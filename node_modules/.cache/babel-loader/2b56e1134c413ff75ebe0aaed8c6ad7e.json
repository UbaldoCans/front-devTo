{"ast":null,"code":"var _jsxFileName = \"/home/ubaldo/Escritorio/front-devTo/src/pages/CreatePost/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport getUserData from \"../../lib/auth\";\nimport api from '../../lib/api';\nimport firebase from '../../lib/fire';\nimport './styles.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CreatePost(props) {\n  _s();\n\n  const [imagePath, setImagePath] = useState(\"\");\n  const [imagePost, setImagePost] = useState({});\n  const [postData, setPostData] = useState({});\n  const TEXT_BUTTON_LABEL_IMAGE = \"Add a cover image\";\n  const [inputButtonText, setInputButtonText] = useState(TEXT_BUTTON_LABEL_IMAGE);\n  const history = useHistory();\n  const date = new Date();\n  const readableDate = date.toDateString().split(\" \").slice(1, 3).join(\" \");\n  const publishedAt = date.toISOString();\n  const storage = getStorage(firebase);\n\n  function getRandomMinutes() {\n    return Math.floor(Math.random() * (10 - 1)) + 1;\n  }\n\n  useEffect(() => {\n    const userData = getUserData();\n\n    if (!userData) {\n      console.log(\"user not logged in\");\n      history.push('/login');\n    }\n\n    props.changeIsCreatePost(true);\n  }, []);\n  useEffect(() => {\n    setPostData({ ...postData,\n      comments: [],\n      positiveReactionsCount: 0,\n      readingTimeMinutes: getRandomMinutes(),\n      readablePublishedDate: readableDate,\n      publishedTimestamp: publishedAt,\n      writer: getUserData()._id\n    });\n  }, []);\n\n  const selectFileHandler = event => {\n    if (event.target.files[0]) {\n      const TmpPath = URL.createObjectURL(event.target.files[0]);\n      setImagePath(TmpPath);\n      setImagePost(event.target.files[0]);\n      setInputButtonText(\"Change\");\n    } else {\n      buttonResetHandler();\n    }\n  };\n\n  const buttonResetHandler = () => {\n    setImagePath(null);\n    setInputButtonText(TEXT_BUTTON_LABEL_IMAGE);\n    setImagePost(null);\n  };\n\n  const uploadFile = async () => {\n    const file = imagePost;\n    const storageRef = ref(storage, 'postimages/' + file.name);\n    const snapshot = await uploadBytes(storageRef, file);\n    const downloadurl = await getDownloadURL(snapshot.ref);\n    return downloadurl;\n  };\n\n  const buttonCreatePostHandler = async () => {\n    let urlPostImage = await uploadFile();\n    postData.coverImage = urlPostImage;\n    let result = await api.createPost(postData, getUserData().token);\n    history.push(`/postDetail/${result._id}`);\n  };\n\n  const inputHandlers = event => {\n    const {\n      name,\n      value\n    } = event.target;\n\n    if (event.target.name == \"tagsList\") {\n      setPostData({ ...postData,\n        [name]: value.trim().split(\" \")\n      });\n    } else {\n      setPostData({ ...postData,\n        [name]: value\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"container-fluid py-2 mt-0\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \" create-post-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row header-nav-container pl-md-3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-9 justify-content-end justify-content-md-between header-wrapper d-flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-tittle-wrapper d-none d-md-flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"logo-wrapper \",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"index.html\",\n                className: \"site-logo\",\n                \"aria-label\": \"DEV Community Home\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"50\",\n                  height: \"40\",\n                  viewBox: \"0 0 50 40\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n                    width: \"50\",\n                    height: \"40\",\n                    rx: \"3\",\n                    children: \" \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    fill: \"white\",\n                    d: \"M19.099 23.508c0 1.31-.423 2.388-1.27 3.234-.838.839-1.942 1.258-3.312 1.258h-4.403V12.277h4.492c1.31 0 2.385.423 3.224 1.27.846.838 1.269 1.912 1.269 3.223v6.738zm-2.808 0V16.77c0-.562-.187-.981-.562-1.258-.374-.285-.748-.427-1.122-.427h-1.685v10.107h1.684c.375 0 .75-.138 1.123-.415.375-.285.562-.708.562-1.27zM28.185 28h-5.896c-.562 0-1.03-.187-1.404-.561-.375-.375-.562-.843-.562-1.404V14.243c0-.562.187-1.03.562-1.404.374-.375.842-.562 1.404-.562h5.896v2.808H23.13v3.65h3.088v2.808h-3.088v3.65h5.054V28zm7.12 0c-.936 0-1.684-.655-2.246-1.965l-3.65-13.758h3.089l2.807 10.804 2.808-10.804H41.2l-3.65 13.758C36.99 27.345 36.241 28 35.305 28z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"page-title-wrapper ml-4\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Create Post\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 39\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"buttons-close d-flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"nav-buttons-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn\",\n                    children: \"Preview\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"close-editor-wrapper\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"24\",\n                    height: \"24\",\n                    viewBox: \"0 0 24 24\",\n                    className: \"crayons-icon\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    role: \"img\",\n                    \"aria-labelledby\": \"as1mn15llu5e032u2pgzlc6yhvss2myk\",\n                    children: [/*#__PURE__*/_jsxDEV(\"title\", {\n                      id: \"as1mn15llu5e032u2pgzlc6yhvss2myk\",\n                      children: \"Close the editor\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636l4.95 4.95z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row create-post-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-8 col-lg-8 main-creation-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-content-container border rounded bg-white\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-content-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-preview-wrapper mt-2\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"image-preview-container d-flex flex-column justify-content-start align-items-start flex-md-row \",\n                  children: [imagePath && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image-preview-div \",\n                    id: \"preview\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"image-preview\",\n                      src: `${imagePath}`,\n                      id: \"imagepreview\",\n                      width: \"250\",\n                      height: \"105\",\n                      alt: \"Post cover\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-row  mt-4 \",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"new-cover-img \",\n                      type: \"button\",\n                      id: \"button-cover-image\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"input-file-image-name \",\n                        id: \"post-cover-image\",\n                        type: \"file\",\n                        accept: \"image/*\",\n                        \"data-max-file-size-mb\": \"25\",\n                        onChange: selectFileHandler\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 146,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                        for: \"post-cover-image\",\n                        id: \"post-cover-image\",\n                        className: \"label-post-cover-image \",\n                        children: [\" \", inputButtonText]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 147,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 45\n                    }, this), imagePath && /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \" btn-outline-danger btn-remove  ml-4 mt-0\",\n                      type: \"button\",\n                      id: \"btnRemove\",\n                      onClick: buttonResetHandler,\n                      children: \"Remove\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"title-container p-1\",\n                children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"w-100  post-title-text\",\n                  type: \"text\",\n                  name: \"title\",\n                  placeholder: \"New post title here...\",\n                  id: \"title\",\n                  onChange: inputHandlers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tags-container p-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"tagsList\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"w-100 publish-post tag-input-text\",\n                  type: \"text\",\n                  name: \"tagsList\",\n                  id: \"tag-input\",\n                  placeholder: \"Add up to 4 tags...\",\n                  onChange: inputHandlers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"other-image-container \",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"other-image-button\",\n                type: \"button\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: \"24\",\n                  height: \"24\",\n                  viewBox: \"0 0 24 24\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  role: \"img\",\n                  \"aria-labelledby\": \"a17qec5pfhrwzk9w4kg0tp62v27qqu9t\",\n                  children: [/*#__PURE__*/_jsxDEV(\"title\", {\n                    id: \"a17qec5pfhrwzk9w4kg0tp62v27qqu9t\",\n                    children: \"Upload image\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 187\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M20 5H4v14l9.292-9.294a1 1 0 011.414 0L20 15.01V5zM2 3.993A1 1 0 012.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 01-.992.993H2.992A.993.993 0 012 20.007V3.993zM8 11a2 2 0 110-4 2 2 0 010 4z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 252\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"otherimage\",\n                  className: \"other-image-label\",\n                  children: \"Upload Image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"otherimage\",\n                  name: \"otherimage\",\n                  type: \"file\",\n                  accept: \"image/*\",\n                  className: \"other-image-input\",\n                  \"data-max-file-size-mb\": \"25\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-content-body \",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-button-wrapper\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-body-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"content-body\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"w-100 publish-post\",\n                  type: \"text\",\n                  name: \"content\",\n                  placeholder: \"Write your post content here...\",\n                  id: \"content-body\",\n                  onChange: inputHandlers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post-footer-container pt-3 pb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              id: \"publish-button\",\n              className: \"btn-publish-post p-2 rounded text-white\",\n              onClick: buttonCreatePostHandler,\n              children: \"Publish\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-save-draft rounded p-2\",\n              children: \"Save draft\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              width: \"24\",\n              className: \"crayons-icon\",\n              height: \"24\",\n              viewBox: \"0 0 24 24\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              role: \"img\",\n              \"aria-labelledby\": \"75abcb76478519ca4eb9\",\n              children: [/*#__PURE__*/_jsxDEV(\"title\", {\n                id: \"75abcb76478519ca4eb9\",\n                children: \"Post options\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 1l9.5 5.5v11L12 23l-9.5-5.5v-11L12 1zm0 2.311L4.5 7.653v8.694l7.5 4.342 7.5-4.342V7.653L12 3.311zM12 16a4 4 0 110-8 4 4 0 010 8zm0-2a2 2 0 100-4 2 2 0 000 4z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              id: \"preview-tags\",\n              children: \" Revert new changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 col-lg-2 d-none d-md-block post-aside-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Writing a Great Post Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Think of your post title as a super short (but compelling!) description \\u2014 like an overview of the actual post in one short sentence. Use keywords where appropriate to help ensure people can find your post by search.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreatePost, \"V1mZXndOPgkep0iILNWm436aMk4=\", false, function () {\n  return [useHistory];\n});\n\n_c = CreatePost;\nexport default CreatePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"sources":["/home/ubaldo/Escritorio/front-devTo/src/pages/CreatePost/index.js"],"names":["React","useState","useEffect","getStorage","ref","uploadBytes","getDownloadURL","Link","useHistory","getUserData","api","firebase","CreatePost","props","imagePath","setImagePath","imagePost","setImagePost","postData","setPostData","TEXT_BUTTON_LABEL_IMAGE","inputButtonText","setInputButtonText","history","date","Date","readableDate","toDateString","split","slice","join","publishedAt","toISOString","storage","getRandomMinutes","Math","floor","random","userData","console","log","push","changeIsCreatePost","comments","positiveReactionsCount","readingTimeMinutes","readablePublishedDate","publishedTimestamp","writer","_id","selectFileHandler","event","target","files","TmpPath","URL","createObjectURL","buttonResetHandler","uploadFile","file","storageRef","name","snapshot","downloadurl","buttonCreatePostHandler","urlPostImage","coverImage","result","createPost","token","inputHandlers","value","trim"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport{ Link, useHistory } from \"react-router-dom\"\nimport getUserData from \"../../lib/auth\";\nimport api from '../../lib/api'\nimport firebase from '../../lib/fire'\nimport './styles.scss'\n\nfunction CreatePost(props){\n    \n    const [imagePath, setImagePath] = useState(\"\")\n    const [imagePost, setImagePost] = useState({})\n    const [postData, setPostData] = useState({})  \n    const TEXT_BUTTON_LABEL_IMAGE = \"Add a cover image\"\n    const [inputButtonText, setInputButtonText] = useState(TEXT_BUTTON_LABEL_IMAGE)\n    \n    const history = useHistory()\n    const date = new Date()\n    const readableDate = date.toDateString().split(\" \").slice(1,3).join(\" \")\n    const publishedAt = date.toISOString()\n    const storage = getStorage(firebase)\n\n    function getRandomMinutes()    {\n        return Math.floor(Math.random() * (10 - 1)) + 1\n    }\n\n    useEffect( ()=>{\n        const userData = getUserData()\n        if (!userData){\n            console.log(\"user not logged in\")\n            history.push('/login')\n        }\n        props.changeIsCreatePost(true)\n    },[])\n    \n    useEffect( () =>{\n        setPostData({...postData,  comments:[] , positiveReactionsCount:0, readingTimeMinutes: getRandomMinutes(),  \n                                    readablePublishedDate: readableDate, publishedTimestamp: publishedAt, \n                                    writer:  getUserData()._id  })        \n    }, [] )\n\n    const selectFileHandler = (event) => {    \n        if (event.target.files[0]) {            \n           const TmpPath = URL.createObjectURL(event.target.files[0])  \n           setImagePath(TmpPath) \n           setImagePost(event.target.files[0])           \n           setInputButtonText (\"Change\") \n        }\n        else {\n           buttonResetHandler()\n        }\t\n    }\n\n   const buttonResetHandler = () => {\n        setImagePath(null)\n        setInputButtonText (TEXT_BUTTON_LABEL_IMAGE)\n        setImagePost(null)\n   }\n\n   const uploadFile =  async () => {  \n        const file = imagePost              \n        const storageRef = ref(storage, 'postimages/' + file.name)\n        const snapshot = await uploadBytes(storageRef, file)\n        const downloadurl = await getDownloadURL(snapshot.ref)                              \n        return downloadurl \n   }   \n\n    const buttonCreatePostHandler = async  () => {\n        let urlPostImage = await uploadFile()        \n         postData.coverImage = urlPostImage            \n        let result = await api.createPost(postData, getUserData().token  )\n        history.push(`/postDetail/${result._id}`)\n    }\n   \n   const inputHandlers = (event) =>  {\n        const { name, value } = event.target\n       if (event.target.name ==\"tagsList\"){\n           setPostData({...postData, [name]:value.trim().split(\" \")})\n       }    \n       else  {\n           setPostData({...postData, [name]:value})\n       }\n    }\n\n    return(\n        <main className=\"container-fluid py-2 mt-0\">\n            <form className=\" create-post-inner\">\n                <div className=\"row header-nav-container pl-md-3\">\n                    <div className=\"col-12 col-md-9 justify-content-end justify-content-md-between header-wrapper d-flex\">\n                        <div className=\"button-tittle-wrapper d-none d-md-flex\">\n                            <span className=\"logo-wrapper \">\n                                <a href=\"index.html\" className=\"site-logo\" aria-label=\"DEV Community Home\">\n                                    <svg width=\"50\" height=\"40\" viewBox=\"0 0 50 40\"\n                                        xmlns=\"http://www.w3.org/2000/svg\">\n                                        <rect width=\"50\" height=\"40\" rx=\"3\"> </rect>\n                                        <path fill=\"white\"\n                                            d=\"M19.099 23.508c0 1.31-.423 2.388-1.27 3.234-.838.839-1.942 1.258-3.312 1.258h-4.403V12.277h4.492c1.31 0 2.385.423 3.224 1.27.846.838 1.269 1.912 1.269 3.223v6.738zm-2.808 0V16.77c0-.562-.187-.981-.562-1.258-.374-.285-.748-.427-1.122-.427h-1.685v10.107h1.684c.375 0 .75-.138 1.123-.415.375-.285.562-.708.562-1.27zM28.185 28h-5.896c-.562 0-1.03-.187-1.404-.561-.375-.375-.562-.843-.562-1.404V14.243c0-.562.187-1.03.562-1.404.374-.375.842-.562 1.404-.562h5.896v2.808H23.13v3.65h3.088v2.808h-3.088v3.65h5.054V28zm7.12 0c-.936 0-1.684-.655-2.246-1.965l-3.65-13.758h3.089l2.807 10.804 2.808-10.804H41.2l-3.65 13.758C36.99 27.345 36.241 28 35.305 28z\">\n                                        </path>\n                                    </svg>\n                                </a>                                    \n                            </span>\n                            <div className=\"page-title-wrapper ml-4\">\n                                <span><p>Create Post</p></span>\n                            </div>\n                        </div>\n                        <div className=\"buttons-close d-flex\">\n                            <nav className=\"nav-buttons-wrapper\">\n                                <ul className=\"d-flex\">\n                                    <li>\n                                        <button type=\"button\" className=\"btn\">Edit</button>\n                                    </li>\n                                    <li>\n                                        <button type=\"button\" className=\"btn\">Preview</button>\n                                    </li>\n                                </ul>\n                            </nav>\n                            <div className=\"close-editor-wrapper\">\n                                <button type=\"button\" className=\"btn\">\n                                    <Link to=\"/\">\n                                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" className=\"crayons-icon\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-labelledby=\"as1mn15llu5e032u2pgzlc6yhvss2myk\">\n                                            <title id=\"as1mn15llu5e032u2pgzlc6yhvss2myk\">Close the editor</title>\n                                            <path d=\"M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636l4.95 4.95z\"></path>\n                                        </svg>\n                                    </Link>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row create-post-container\">\n                    <div className=\"col-lg-2\">\n                    </div>\n                    <div className=\"col-12 col-md-8 col-lg-8 main-creation-container\">\n                        <div className=\"post-content-container border rounded bg-white\">\n                            <div className=\"post-content-header\" >\n\n                                <div className=\"image-preview-wrapper mt-2\">\t\t\t\t\n                                    <div className=\"image-preview-container d-flex flex-column justify-content-start align-items-start flex-md-row \">\t\n                                        { imagePath &&  \n                                            <div className=\"image-preview-div \" id=\"preview\">\n                                                <img className=\"image-preview\" src= {`${imagePath}`} id=\"imagepreview\"  width=\"250\" height=\"105\" alt=\"Post cover\"  />\n                                            </div>\t                                        \n                                        }\n                                        <div className=\"d-flex flex-row  mt-4 \">\n                                            <button className=\"new-cover-img \" type=\"button\" id=\"button-cover-image\"  >\n                                                <input className = \"input-file-image-name \" id=\"post-cover-image\" type=\"file\" accept=\"image/*\"  data-max-file-size-mb=\"25\"  onChange={selectFileHandler} />\n                                                <label for=\"post-cover-image\" id=\"post-cover-image\" className=\"label-post-cover-image \"> {inputButtonText}\n                                                </label>                                                    \n                                            </button>\n                                        { imagePath &&  \n                                            <a  className=\" btn-outline-danger btn-remove  ml-4 mt-0\" type=\"button\" id=\"btnRemove\" onClick={buttonResetHandler}>Remove</a>\n                                        }\n                                        </div>\n                                    </div>\t\t\t\t\t\n                                </div>\n\n                                <div className=\"title-container p-1\">\n                                    <textarea className=\"w-100  post-title-text\" type=\"text\" name=\"title\"   placeholder=\"New post title here...\" id=\"title\" onChange={inputHandlers}  ></textarea>\n                                </div>\n                                <div className=\"tags-container p-1\">\n                                    <label for=\"tagsList\"></label>\n                                    <input className=\"w-100 publish-post tag-input-text\" type=\"text\" name=\"tagsList\"  id=\"tag-input\" placeholder=\"Add up to 4 tags...\" onChange={inputHandlers} />\n                                </div>\n  \n                            </div>\n\n                            <div className=\"other-image-container \" > \n                                    <button className=\"other-image-button\" type=\"button\">\n                                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"  xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-labelledby=\"a17qec5pfhrwzk9w4kg0tp62v27qqu9t\"><title id=\"a17qec5pfhrwzk9w4kg0tp62v27qqu9t\">Upload image</title><path d=\"M20 5H4v14l9.292-9.294a1 1 0 011.414 0L20 15.01V5zM2 3.993A1 1 0 012.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 01-.992.993H2.992A.993.993 0 012 20.007V3.993zM8 11a2 2 0 110-4 2 2 0 010 4z\"></path></svg>\n                                        <label for=\"otherimage\" className=\"other-image-label\" >Upload Image</label>\n                                        <input id=\"otherimage\" name =\"otherimage\" type=\"file\" accept=\"image/*\" className=\"other-image-input\"  data-max-file-size-mb=\"25\"/>\n                                    </button>\n                              </div>  \n\n                            <div className=\"post-content-body \">\n                                <div className=\"image-button-wrapper\"></div>\n                                <div className=\"text-body-container\">\n                                    <label for=\"content-body\"></label>\n                                    <textarea className=\"w-100 publish-post\" type=\"text\" name=\"content\" placeholder=\"Write your post content here...\"  id=\"content-body\" onChange={inputHandlers}></textarea>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"post-footer-container pt-3 pb-3\">\n                            <button type=\"button\" id=\"publish-button\" className=\"btn-publish-post p-2 rounded text-white\" onClick={buttonCreatePostHandler} >Publish</button>\n                            <button type=\"button\" className=\"btn-save-draft rounded p-2\">Save draft</button>\n                            <svg width=\"24\" className=\"crayons-icon\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-labelledby=\"75abcb76478519ca4eb9\">\n                                <title id=\"75abcb76478519ca4eb9\">Post options</title>\n                                <path d=\"M12 1l9.5 5.5v11L12 23l-9.5-5.5v-11L12 1zm0 2.311L4.5 7.653v8.694l7.5 4.342 7.5-4.342V7.653L12 3.311zM12 16a4 4 0 110-8 4 4 0 010 8zm0-2a2 2 0 100-4 2 2 0 000 4z\"></path>\n                            </svg>\n                            <span id=\"preview-tags\"> Revert new changes</span>\n                        </div>\n                    </div>\n                    <div className=\"col-md-4 col-lg-2 d-none d-md-block post-aside-container\">                  \n                            <h5>Writing a Great Post Title</h5>\n                            <p>Think of your post title as a super short (but compelling!) description â€” like an overview of the actual post in one short sentence.\n                                Use keywords where appropriate to help ensure people can find your post by search.</p>\n                    </div>\n                </div>\n            </form>\n        </main>\n\n    )\n}\n\nexport default CreatePost"]},"metadata":{},"sourceType":"module"}